{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"9WrU\":function(t,e){t.exports='<kt-portlet>\\n\\t<kt-portlet-body>\\n\\t\\t<div class=\"row\">\\n\\t\\t\\t<div class=\"col-md-12\">\\n\\t\\t\\t  \\t<div class=\"head\">\\n\\t\\t\\t\\t   <h2> Update Your Profile</h2>\\n\\t\\t\\t  \\t</div>\\t \\n\\t\\t  \\t</div>\\n\\n\\t\\t  \\t<form class=\"kt-form\" [formGroup]=\"homeForm\" autocomplete=\"off\" style=\"float:left;width:100%;\">\\n\\t\\t\\t  \\t<div class=\"col-md-12\" style=\"clear:both;\">\\n\\t\\t\\t\\t  \\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Name</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"name\" formControlName=\"name\" placeholder=\"Enter Name\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.name.hasError(\\'required\\') && homeForm.controls.name.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter name.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.name.hasError(\\'pattern\\') && homeForm.controls.name.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\"color:red\">Only characters are allowed for name</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Email Address</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"email\" formControlName=\"email\" placeholder=\"Enter Email\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.email.hasError(\\'required\\') && homeForm.controls.email.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter email.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.email.hasError(\\'pattern\\') && homeForm.controls.email.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\"color:red\">Please enter valid email address.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\"col-md-12\" style=\"clear:both;\">\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t\\t    <label>Phone Number</label> \\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"phone\" formControlName=\"phone\" placeholder=\"Enter Phone\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.phone.hasError(\\'required\\') && homeForm.controls.phone.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter phone.</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.phone.hasError(\\'pattern\\') && homeForm.controls.phone.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\"color:red\">Please enter valid phone number. (eg: (xxx) xxx-xxxx)</strong>\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Address</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"address\" formControlName=\"address\" placeholder=\"Enter Address\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\x3c!-- <span *ngIf=\"homeForm.controls.address.hasError(\\'required\\') && homeForm.controls.address.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter address.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span> --\\x3e\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\"col-md-12\" style=\"clear:both;\">\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>City</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"city\" formControlName=\"city\" placeholder=\"Enter City\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.city.hasError(\\'required\\') && homeForm.controls.city.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter city.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>State</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"state\" formControlName=\"state\" placeholder=\"Enter State\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.state.hasError(\\'required\\') && homeForm.controls.state.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter state.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\"col-md-12\" style=\"clear:both;\">\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Zip Code</label>\\n\\t\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"form-control\" id=\"zipcode\" formControlName=\"zipcode\" placeholder=\"Zip Code\"/>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.zipcode.hasError(\\'required\\') && homeForm.controls.zipcode.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong>Please enter zipcode.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.zipcode.hasError(\\'pattern\\') && homeForm.controls.zipcode.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\"color:red\">Please enter valid zipcode.</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Username</label>\\n\\t\\t\\t\\t\\t\\t    <input type=\"text\" class=\"form-control\" value=\\'{{username}}\\' readonly=\"\" style=\"background:#e3e3e3;font-weight: 500;\" />\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t<div class=\"col-md-12\" style=\"clear:both;\">\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Registration Date</label>\\n\\t\\t\\t\\t\\t\\t    <input type=\"text\" class=\"form-control\" value=\\'{{registrationdate | date:\"MM/dd/yyyy\"}}\\' readonly=\"\" style=\"background:#e3e3e3;font-weight: 500;\" />\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Expiration</label>\\n\\t\\t\\t\\t\\t\\t    <input type=\"text\" class=\"form-control\" value=\\'{{expirydate | date:\"MM/dd/yyyy\"}}\\' readonly=\"\" style=\"background:#e3e3e3;font-weight: 500;\" />\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\"col-md-12\" style=\"clear:both;\">\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Old Password</label>\\n\\t\\t\\t\\t\\t\\t    <input type=\"password\" class=\"form-control\" formControlName=\"old_password\" placeholder=\"Old Password\"/>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>New Password</label>\\n\\t\\t\\t\\t\\t\\t    <input type=\"password\" class=\"form-control\" formControlName=\"new_password\" placeholder=\"New Password\"/>\\n\\n\\t\\t\\t\\t\\t\\t    <span *ngIf=\"homeForm.controls.new_password.hasError(\\'pattern\\') && homeForm.controls.new_password.touched\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<strong style=\"color:red\">Password is required with min. 6 & max. 15 characters</strong>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"col-md-6\" style=\"float:left\">\\n\\t\\t\\t\\t\\t \\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t    <label>Confirm Password</label>\\n\\t\\t\\t\\t\\t\\t    <input type=\"password\" class=\"form-control\" formControlName=\"confirm_password\" placeholder=\"Confirm Password\"/>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\"col-md-12 text-right\" style=\"clear:both;\">\\n\\t\\t\\t\\t \\t<button class=\"btn btn-submit mt-3\" (click)=\"submit()\">\\n\\t\\t\\t\\t \\t\\tSubmit\\n\\t\\t\\t\\t \\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</form>\\n\\t\\t</div>\\n\\n\\t</kt-portlet-body>\\n</kt-portlet> \\t'},GSth:function(t,e){t.exports='.head {\\n  margin-bottom: 30px; }\\n  .head h2 {\\n    font-size: 18px;\\n    font-weight: 600;\\n    color: #000;\\n    position: relative; }\\n  .head h2:after {\\n      content: \"\";\\n      position: absolute;\\n      width: 50px;\\n      height: 3px;\\n      background: #add45c;\\n      bottom: -10px;\\n      left: 0; }\\n  .form-group {\\n  margin-bottom: 20px; }\\n  .form-group label {\\n    font-size: 15px;\\n    font-weight: 600;\\n    color: #000; }\\n  .btn-submit {\\n  text-decoration: none;\\n  color: #fff;\\n  border: 1px solid #add45c;\\n  background: #add45c;\\n  border-radius: 5px;\\n  display: inline-block;\\n  padding: 12px 20px;\\n  margin-top: 10px;\\n  transition: .3s; }\\n  .btn-submit:hover {\\n    color: #add45c;\\n    border: 1px solid #add45c;\\n    background: transparent; }\\n  hr {\\n  width: 100%; }\\n  .ngx-file-drop__drop-zone[_ngcontent-kaf-c19] {\\n  border: none !important; }\\n  .col-md-6 {\\n  float: left; }\\n  .kt-form strong {\\n  color: red; }\\n'},k2UW:function(t,e,o){\"use strict\";o.r(e);var r=o(\"mrSG\"),n=o(\"CcnG\"),s=o(\"Ip0R\"),a=o(\"gIcY\"),l=o(\"ZYCi\"),i=o(\"AJ6+\"),d=o(\"SZbH\"),c=o(\"iJXZ\"),m=function(){function t(t,e,o,r,n,s,a){this.fb=t,this.router=e,this.toastr=o,this.route=r,this.adminService=n,this.ngxService=s,this.changeDetection=a,this.loading=!1,this.errors=[],this.banner_text=\"\",this.user_name=\"\",this.name=\"\",this.username=\"\",this.expirydate=\"\",this.registrationdate=\"\",this.password=\"\",this.tools={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.tools2={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.tools3={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.tools4={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.selectedFile=\"\",this.user_id=localStorage.getItem(\"user_id\")}return t.prototype.ngOnInit=function(){var t=this;this.initHomeForm();var e={id:localStorage.getItem(\"user_id\")};this.adminService.postData(\"getUserByID\",e).subscribe(function(e){var o=e.data.expiry_date,r=new Date;(o=new Date(o))<r?t.router.navigate([\"./subscription\"]):(t.username=e.data.username,t.expirydate=e.data.expiry_date,t.registrationdate=e.data.created_on,t.password=e.data.password,t.changeDetection.detectChanges(),t.patchValues(e.data))})},t.prototype.getPageData=function(){var t=this,e={page:\"contact\",user_id:this.user_id};this.adminService.postData(\"getPageData\",e).subscribe(function(e){console.log(e),1==e.status&&(t.patchValues(e.data.data),t.getLoginUserData())})},t.prototype.getLoginUserData=function(){var t=this,e={page:\"contact\",id:this.user_id};this.adminService.postData(\"getUserByID\",e).subscribe(function(e){console.log(\"User = \"+e),1==e.status&&(t.user_name=e.data.name,t.user_email=e.data.email,t.homeForm.patchValue({fname:e.data.name,email:e.data.email}))})},t.prototype.patchValues=function(t){this.homeForm.patchValue({name:t.name,email:t.email,phone:t.contact,address:t.address,city:t.city,state:t.state,zipcode:t.zip,registrationdate:t.registrationdate,expirydate:t.expirydate})},t.prototype.initHomeForm=function(){this.homeForm=this.fb.group({name:[\"\",a.l.compose([a.l.required,a.l.pattern(/^([a-zA-Z]+\\s)*[a-zA-Z]+$/)])],email:[\"\",a.l.compose([a.l.required,a.l.pattern(/^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/)])],phone:[\"\",a.l.compose([a.l.required,a.l.pattern(/^\\(\\d{3}\\) \\d{3}-?\\d{4}$/)])],address:[\"\"],city:[\"\",a.l.compose([a.l.required])],state:[\"\",a.l.compose([a.l.required])],zipcode:[\"\",a.l.compose([a.l.required,a.l.pattern(/^\\d{4,6}$/)])],old_password:[\"\"],new_password:[\"\"],confirm_password:[\"\"]})},t.prototype.actionCompleteHandler=function(t){console.log(t)},t.prototype.submit=function(){var t=this,e=this.homeForm.controls;if(console.log(e),this.homeForm.invalid)Object.keys(e).forEach(function(t){return e[t].markAsTouched()});else{if(\"\"!=e.old_password.value||\"\"!=e.new_password.value||\"\"!=e.confirm_password.value){if(\"\"==e.old_password.value)return this.toastr.error(\"Please enter old password.\",\"Error\"),void this.ngxService.stop();if(e.old_password.value!=this.password)return this.toastr.error(\"Please enter correct old password.\",\"Error\"),void this.ngxService.stop();if(\"\"==e.new_password.value)return this.toastr.error(\"Please enter new password.\",\"Error\"),void this.ngxService.stop();if(\"\"!=e.new_password.value){if(e.new_password.value.length<6)return this.toastr.error(\"Please enter minimum 6 characters for new password.\",\"Error\"),void this.ngxService.stop();if(e.new_password.value.length>15)return this.toastr.error(\"Please enter maximum 15 characters for new password.\",\"Error\"),void this.ngxService.stop();if(e.new_password.value!=e.confirm_password.value)return this.toastr.error(\"Confirm password should match with new password \",\"Success\"),void this.ngxService.stop();this.password=e.new_password.value}}this.ngxService.start();var o={_id:localStorage.getItem(\"user_id\"),name:e.name.value,username:this.username,email:e.email.value,password:this.password,contact:e.phone.value,zip:e.zipcode.value,state:e.state.value,city:e.city.value,country:\"\",address:e.address.value,created_on:this.registrationdate,expiry_date:this.expirydate};this.adminService.postData(\"update_user\",o).subscribe(function(e){if(1==e.status){var o=\"Profile data saved successfully.\";t.toastr.success(o,\"Success\"),t.ngxService.stop()}else{o=\"Something went wrong, please try again.\";t.toastr.error(o,\"Error\"),t.ngxService.stop()}})}},t.prototype.isControlHasError=function(t,e){var o=this.homeForm.controls[t];return!!o&&(o.hasError(e)&&(o.dirty||o.touched))},t.prototype.onFileChanged=function(t){var e=this,o=t.target.files[0];this.selectedFile=o,console.log(t.target,t.target.files[0]);var r=new FileReader;r.onload=function(){e.banner_image=r.result,console.log(e.banner_image)},r.readAsDataURL(o)},t.ctorParameters=function(){return[{type:a.c},{type:l.h},{type:d.b},{type:l.a},{type:i.a},{type:c.b},{type:n.k}]},t=r.b([Object(n.n)({selector:\"kt-profile\",template:o(\"9WrU\"),styles:[o(\"GSth\")]}),r.d(\"design:paramtypes\",[a.c,l.h,d.b,l.a,i.a,c.b,n.k])],t)}(),p=o(\"E6Rk\"),h=o(\"pKmL\");o.d(e,\"ProfileModule\",function(){return u});var u=function(){function t(){}return t=r.b([Object(n.L)({declarations:[m],imports:[a.f,a.k,s.b,p.a,h.a,l.i.forChild([{path:\"\",component:m}])]})],t)}()}}]);","extractedComments":[]}