{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{IzKc:function(t,e){t.exports='.head {\\n  margin-bottom: 30px; }\\n  .head h2 {\\n    font-size: 18px;\\n    font-weight: 600;\\n    color: #000;\\n    position: relative; }\\n  .head h2:after {\\n      content: \"\";\\n      position: absolute;\\n      width: 50px;\\n      height: 3px;\\n      background: #add45c;\\n      bottom: -10px;\\n      left: 0; }\\n  .form-group {\\n  margin-bottom: 20px; }\\n  .form-group label {\\n    font-size: 15px;\\n    font-weight: 600;\\n    color: #000; }\\n  .form-group label.fileupload {\\n      width: 100%;\\n      border: 2px dashed #ddd;\\n      border-radius: 4px;\\n      padding: 30px;\\n      text-align: center;\\n      margin-bottom: 18px;\\n      cursor: pointer; }\\n  .form-group label.fileupload i.fa {\\n        font-size: 20px;\\n        color: #add45c; }\\n  .form-group label.fileupload h3 {\\n        font-size: 16px;\\n        color: #000;\\n        margin-top: 8px; }\\n  .form-group .formimg {\\n    display: inline-block;\\n    position: relative; }\\n  .form-group .formimg i.fa {\\n      width: 30px;\\n      cursor: pointer;\\n      height: 30px;\\n      background: #add45c;\\n      text-align: center;\\n      line-height: 30px;\\n      color: #fff;\\n      border-radius: 50%;\\n      position: absolute;\\n      right: -18px;\\n      top: -9px; }\\n  .btn-submit {\\n  text-decoration: none;\\n  color: #fff;\\n  border: 1px solid #add45c;\\n  background: #add45c;\\n  border-radius: 5px;\\n  display: inline-block;\\n  padding: 12px 20px;\\n  margin-top: 10px;\\n  transition: .3s; }\\n  .btn-submit:hover {\\n    color: #add45c;\\n    border: 1px solid #add45c;\\n    background: transparent; }\\n  hr {\\n  width: 100%; }\\n  .ngx-file-drop__drop-zone[_ngcontent-kaf-c19] {\\n  border: none !important; }\\n  .kt-form strong {\\n  color: red; }\\n  .imageParent input {\\n  width: auto;\\n  display: inline-block;\\n  background: #e8f4f7;\\n  padding: 13px 0 13px 145px;\\n  text-align: center; }\\n  .imageParent {\\n  width: 100%;\\n  text-align: center;\\n  border: 2px dashed #ddd;\\n  CLEAR: both;\\n  padding: 41px 22px;\\n  margin: 0 0 20px 0; }\\n'},PrQy:function(t,e){t.exports='<kt-portlet>\\n\\t<kt-portlet-body>\\n\\t\\t<div class=\"row\">\\n\\t\\t\\t<div class=\"col-md-12\">\\n\\t\\t\\t  \\t<div class=\"head\">\\n\\t\\t\\t\\t   <h2>Main Text</h2>\\n\\t\\t\\t  \\t</div>\\n\\n\\t\\t  \\t\\t<form class=\"kt-form\" [formGroup]=\"homeForm\" autocomplete=\"off\">\\n\\t\\t\\t\\t    <div class=\"form-group\">\\n\\t\\t\\t\\t\\t    <label>Text</label>\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t<ejs-richtexteditor #toolsRTE id=\\'alltoolRTE\\' [toolbarSettings]=\\'tools\\' formControlName=\"banner_text\"></ejs-richtexteditor>\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t<span *ngIf=\"homeForm.controls.banner_text.hasError(\\'required\\') && homeForm.controls.banner_text.touched\">\\n\\t\\t\\t\\t\\t\\t\\t<strong>Please add text.</strong>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t      \\t</div>\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t     \\t \\t<div class=\"form-group\">\\n\\t\\t     \\t \\t\\t<label>Image <em style=\"font-size: 12px; color: chocolate;margin: 0 0 0 12px;\">* Size should be 400 x 400</em></label>\\n\\t\\t     \\t \\t\\t<div class=\\'imageParent\\'>\\n\\t\\t     \\t \\t\\t\\t<input type=\"file\" (change)=\"onFileChanged($event,image)\" #fileInput  name=\"file\"\\n                       ngf-pattern=\"\\'image/*\\'\" accept=\"image/*\" ngf-max-size=\"200MB\" id=\"input-file-now\" class=\"dropify\" filepreview=\"filepreview\" formControlName=\\'banner_image\\' fileinput=\"file\"  ngf-select>\\n                   \\t\\t</div>\\n\\n                   \\t\\t<span *ngIf=\"imageSizeError\" style=\"font-weight:bold;color:red;\">\\n\\t\\t\\t\\t\\t\\t\\t{{imageSizeError}}\\n\\t\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t    <div class=\"formimg\" style=\"width:100%;display:inline-block;margin:10px 0 0 0;\" >\\n\\t\\t\\t\\t\\t      <img height=\"110px\" src=\"{{banner_image}}\" id=\"ban_img\"/>\\n\\t\\t\\t\\t\\t      <img src=\"./assets/media/delete.png\" (click)=\\'deleteImage()\\'  style=\"\\n    width: 20px;\\n    position: absolute;\\n    height: 20px;\\n    margin: -6px 0 0 -12px;\\n\"  *ngIf=\"imageBan != null\"/>\\n\\t\\t\\t\\t        </div>\\n\\n\\t\\t\\t\\t        <span *ngIf=\"showError\">\\n\\t\\t\\t\\t\\t\\t\\t<strong>Please add image.</strong>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t     \\t \\t</div>\\n\\t\\t\\t\\t\\t<hr>\\n\\t\\t\\t\\t\\t<div class=\"col-md-12 text-right\">\\n\\t\\t\\t\\t\\t \\t<button class=\"btn btn-submit mt-3\" (click)=\"submit()\">\\n\\t\\t\\t\\t\\t \\t\\tSubmit\\n\\t\\t\\t\\t\\t \\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</form>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</kt-portlet-body>\\n</kt-portlet> \\n\\n'},smxF:function(t,e,n){\"use strict\";n.r(e);var o=n(\"mrSG\"),r=n(\"CcnG\"),i=n(\"Ip0R\"),a=n(\"gIcY\"),s=n(\"AJ6+\"),l=n(\"SZbH\"),d=n(\"iJXZ\"),c=n(\"ZYCi\"),g=function(){function t(t,e,n,o,r,i,a){this.fb=t,this.toastr=e,this.route=n,this.router=o,this.adminService=r,this.ngxService=i,this.changeDetection=a,this.loading=!1,this.errors=[],this.banner_image=\"\",this.banner_text=\"\",this.imageSizeError=\"\",this.imageBan=null,this.tools={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.tools2={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.tools3={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.tools4={items:[\"Bold\",\"Italic\",\"Underline\",\"StrikeThrough\",\"|\",\"FontName\",\"FontSize\",\"FontColor\",\"BackgroundColor\",\"|\",\"LowerCase\",\"UpperCase\",\"|\",\"Undo\",\"Redo\",\"|\",\"Formats\",\"Alignments\",\"|\",\"OrderedList\",\"UnorderedList\",\"|\",\"Indent\",\"Outdent\",\"|\",\"CreateLink\",\"CreateTable\",\"Image\",\"|\",\"ClearFormat\",\"Print\",\"SourceCode\",\"|\",\"FullScreen\"]},this.selectedFile=\"\",this.user_id=localStorage.getItem(\"user_id\"),this.showError=!1}return t.prototype.ngOnInit=function(){var t=this;this.initHomeForm();var e={id:localStorage.getItem(\"user_id\")};this.adminService.postData(\"getUserByID\",e).subscribe(function(e){var n=e.data.expiry_date,o=new Date;(n=new Date(n))<o?t.router.navigate([\"./subscription\"]):t.getPageData()})},t.prototype.getPageData=function(){var t=this,e={page:\"maintext\",user_id:this.user_id};this.adminService.postData(\"getPageData\",e).subscribe(function(e){console.log(e),1==e.status&&t.patchValues(e.data.data)})},t.prototype.patchValues=function(t){this.homeForm.patchValue({banner_text:t.banner_text}),this.imageBan=t.banner_image,null!=this.imageBan&&(this.banner_image=\"https://www.apex-4u.com:8080/images/\"+t.banner_image,document.getElementById(\"ban_img\").setAttribute(\"src\",\"https://www.apex-4u.com:8080/images/\"+t.banner_image)),this.changeDetection.detectChanges()},t.prototype.initHomeForm=function(){this.homeForm=this.fb.group({banner_image:[\"\"],banner_text:[\"\"]})},t.prototype.actionCompleteHandler=function(t){console.log(t)},t.prototype.deleteImage=function(){this.imageBan=null,document.getElementById(\"ban_img\").setAttribute(\"src\",\"\")},t.prototype.submit=function(){var t=this,e=this.homeForm.controls;if(console.log(e),null==this.imageBan||null!=e.banner_text.value&&\"\"!=e.banner_text.value){if(\"\"==this.imageSizeError)if(this.ngxService.start(),\"\"!=this.selectedFile){var n=new FormData;n.append(\"image\",this.selectedFile,this.selectedFile.name),this.adminService.postData(\"upload_image\",n).subscribe(function(n){console.log(n);var o=n,r={page:\"maintext\",user_id:t.user_id,data:{banner_text:e.banner_text.value,banner_image:o}};t.insertCmsData(r)})}else{var o={page:\"maintext\",user_id:this.user_id,data:{banner_text:e.banner_text.value,banner_image:this.imageBan}};this.insertCmsData(o)}}else this.toastr.error(\"Please add text.\",\"Error\")},t.prototype.insertCmsData=function(t){var e=this;this.adminService.postData(\"add_cmspage\",t).subscribe(function(t){if(console.log(t),1==t.status){e.toastr.success(\"Main text saved successfully.\",\"Success\"),e.selectedFile=\"\",e.ngxService.stop()}else alert(\"Something went wrong, please try again.\"),e.ngxService.stop()})},t.prototype.isControlHasError=function(t,e){var n=this.homeForm.controls[t];return!!n&&(n.hasError(e)&&(n.dirty||n.touched))},t.prototype.onFileChanged=function(t){var e=this,n=t.target.files[0];this.selectedFile=n,this.showError=!1,console.log(t.target,t.target.files[0]);var o=new FileReader,r=t.target.files[0],i=new Image;i.src=window.URL.createObjectURL(r),o.onload=function(){var t=i.naturalWidth,n=i.naturalHeight;if(window.URL.revokeObjectURL(i.src),400!=t&&400!=n)return e.imageSizeError=\"Image should have dimentions 400 x 400 size\",e.changeDetection.detectChanges(),!1;e.imageBan=o.result,e.imageSizeError=\"\",e.banner_image=o.result,e.changeDetection.detectChanges(),console.log(e.banner_image)},o.readAsDataURL(n)},t.ctorParameters=function(){return[{type:a.c},{type:l.b},{type:c.a},{type:c.h},{type:s.a},{type:d.b},{type:r.k}]},t=o.b([Object(r.n)({selector:\"kt-maintext\",template:n(\"PrQy\"),styles:[n(\"IzKc\")]}),o.d(\"design:paramtypes\",[a.c,l.b,c.a,c.h,s.a,d.b,r.k])],t)}(),m=n(\"E6Rk\"),p=n(\"pKmL\"),u=n(\"graX\");n.d(e,\"MaintextModule\",function(){return h});var h=function(){function t(){}return t=o.b([Object(r.L)({declarations:[g],imports:[a.f,a.k,i.b,m.a,p.a,u.a,c.i.forChild([{path:\"\",component:g}])]})],t)}()}}]);","extractedComments":[]}